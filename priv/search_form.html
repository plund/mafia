<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Mafia Search</title>
  </head>
  <body bgcolor="#cfffaf">
    <center>
      <h1>Mafia Search</h1>
      <p><b>Search for Messages in Game</b>
      </p>
      <form method="post" action="/e/web/msgs">
        <table cellspan="10" cellspacing=5 cellpadding=5 width="700">
          <tr bgcolor="#afefaf">
            <td>Users</td>
            <td><input name="user" type="text" size="30"></td>
            <td>User names or parts e g "brain*"</td>
          </tr>
          <tr bgcolor="#afefaf">
            <td>Words</td>
            <td><input name="word" type="text" size="30"></td>
            <td>Zero, one or more words, separated either by space or "|".
            </td>
          </tr>
          <tr bgcolor="#afefaf">
            <td>Page(s) or Phase(s)</td>
            <td><input name="part" type="text" size="25"></td>
            <td>
              Examples: day1, page 44, p11-17, D3, N3, n2 - d3, d3-, -p7,
              day 2 - night 2, 55-end, end<br>
              Search signup: s, s2-s7, s3-s, s-p3, -p1</td>
          </tr>
          <tr bgcolor="#afefaf">
            <td>Game</td>
            <td>
              <!-- START GAME SELECTION -->
              <select name="g">
                <option value="">M29 (current)</option>
                <option value="28">M28</option>
                <option value="27">M27</option>
                <option value="26">M26</option>
                <option value="25">M25</option>
                <option value="24">M24</option>
              </select>
              <!-- END GAME SELECTION -->
            </td>
            <td>Leave this normally at current game.</td>
          </tr>
          <tr bgcolor="#afefaf">
            <td>User or Word</td>
            <td><input type="checkbox" name="UorW" value="true">
              Enough if one true?<br>
            <td>Check this, if only one of User or Word conditions needs to
              be true. Otherwise both need to be true if given.
            </td>
          </tr>
          <tr>
            <td></td>
            <td>
              <center>
                <input name="button" type="submit" value="Search">
              </center>
            </td>
            <td></td>
          </tr>
          <tr>
            <td colspan="3">
              <br>
              <br>
              <b>Notes:</b>
              <p>
                The word search "*##CALL*|*##VOTE*|*##END*|*##UNEND*" is
                useful for GMs.
              <p>
                The <b>MAX output</b> of any search is <b>400k byte</b>!
                You need to modify your search conditions if you reach this limit.
              <p>
                Upper or lower case does not matter in any type of search
                condition.
              <p>
                Quotes must be used to search for something containing a space.
                Normally spaces divide up words so then you may need to use
                quotes ("")
                For example to search for the full string "Hellenic Riot",
                quotes are needed.
              <p>
                Minimum one search condition must be specified.
                Either a one or more user names or
                one or more words that must be found in the message or
                one single day number.
              <p>
                In the <b>User</b> conditions, a space between two user names
                means "or". User search for "brain* peter*" will show messages
                from both brainbomb and peterlund. Searching for aliases does
                NOT work.
              <p>
                In the <b>Word</b> conditions, a space between two words means
                "and". Both words need to exist in the message for it to match.
                The "|" character between two words means "or". Only
                one of the two words must be found in the message to match.
              <p>
                <b>Word boundary</b> requirements do apply for both the
                <b>User</b> and <b>Word</b> conditions.
                Use "*" to remove boundary
                requirement at end or beginning eg "brain*", "peter*"
                <br>
                Searching for "nd" matches the word "nd" but not the word "and".
                <br>
                Add the "*" character at the beginning or end to remove the
                word boundary requirement in those positions.
                Searching for "*nd*" matches "nd" but also "and" and
                "mandelbrot".
                <br>
                Doing a word search for "Jamie*|pete*" will result in all
                messages where any word starts with either "Jamie" or "pete"
              <p>
                Words searched for will be
                <b><font size=\"+1\">highlightened</font></b> where they are
                found  in the resulting output.
              <p>
                In the <b>Page/Phase</b> condition a single number is a
                page number. A page can also be given using "p33" or "page 33".
                Here you can also enter "d3" or "D3" or "day 3" which all will
                output messages for day 3. "n1", "N 1" and "night 1" return all
                messages for night 1.
                "s" returns all messages in the signup thread, "s3" returns all
                messages on page 3 in the signup thread.
                "end" returns all message from after the game has ended.
              <p>
                You can give a sequence like "D3-N3", "page 1 - page 13" or
                even mixed "p30-d1". You may also start or end with dash.
                "-6" which is the same as "s1-6" will result in all pages from
                the beggining of the signup thread to page 6 in the game thread.
                "N4 -" returns all messages for night 4 and everying after that.
              <p>
                Search for "end" returns only message after end of game, while
                "33-end" returns message from page 33 to the end of game.
                "33-" returns all messages starting from game thread page 33
                and after.
              <p>
                Search the full signup thread by only inserting "s".
                Insert "s3-p4" to search from signup thread page 3 to game
                thread page 4.
                Insert "s4-s" to search the signup thread starting at signup
                page 4.
              <p>
                <b>Word</b> searches including UNICODE letters are at the moment
                not supported.
                If you want to search for "doppelg&auml;nger" you need to use
                the "*" in your search. Word searching for "doppelg* *nger"
                returns all variations.
            </td>
          </tr>
        </table>
      </form>
    </center>
  </body>
</html>
